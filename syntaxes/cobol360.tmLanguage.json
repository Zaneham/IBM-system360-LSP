{
  "name": "IBM System/360 COBOL F",
  "scopeName": "source.cobol360",
  "comment": "Based on IBM C28-6516-8: OS COBOL Language (November 1968, Ninth Edition)",
  "patterns": [
    { "include": "#comments" },
    { "include": "#sequence-area" },
    { "include": "#divisions" },
    { "include": "#sections" },
    { "include": "#paragraphs" },
    { "include": "#strings" },
    { "include": "#numbers" },
    { "include": "#level-numbers" },
    { "include": "#picture-clause" },
    { "include": "#verbs" },
    { "include": "#keywords" },
    { "include": "#special-registers" },
    { "include": "#operators" },
    { "include": "#identifiers" }
  ],
  "repository": {
    "comments": {
      "patterns": [
        {
          "name": "comment.line.asterisk.cobol360",
          "match": "^.{6}\\*.*$"
        },
        {
          "name": "comment.line.debug.cobol360",
          "match": "^.{6}[Dd].*$"
        },
        {
          "name": "comment.line.page-eject.cobol360",
          "match": "^.{6}/.*$"
        }
      ]
    },
    "sequence-area": {
      "patterns": [
        {
          "name": "comment.line.sequence.cobol360",
          "match": "^[0-9 ]{6}"
        }
      ]
    },
    "divisions": {
      "patterns": [
        {
          "name": "keyword.control.division.cobol360",
          "match": "\\b(IDENTIFICATION|ENVIRONMENT|DATA|PROCEDURE)\\s+DIVISION\\b"
        }
      ]
    },
    "sections": {
      "patterns": [
        {
          "name": "keyword.control.section.cobol360",
          "match": "\\b(CONFIGURATION|INPUT-OUTPUT|FILE|WORKING-STORAGE|LINKAGE|REPORT)\\s+SECTION\\b"
        },
        {
          "name": "keyword.control.section.cobol360",
          "match": "\\b(FILE-CONTROL|I-O-CONTROL|SPECIAL-NAMES|DECLARATIVES)\\b"
        }
      ]
    },
    "paragraphs": {
      "patterns": [
        {
          "name": "keyword.other.paragraph.cobol360",
          "match": "\\b(PROGRAM-ID|AUTHOR|INSTALLATION|DATE-WRITTEN|DATE-COMPILED|SECURITY|REMARKS|SOURCE-COMPUTER|OBJECT-COMPUTER)\\b"
        }
      ]
    },
    "strings": {
      "patterns": [
        {
          "name": "string.quoted.double.cobol360",
          "begin": "\"",
          "end": "\"",
          "patterns": [
            {
              "name": "constant.character.escape.cobol360",
              "match": "\"\""
            }
          ]
        },
        {
          "name": "string.quoted.single.cobol360",
          "begin": "'",
          "end": "'",
          "patterns": [
            {
              "name": "constant.character.escape.cobol360",
              "match": "''"
            }
          ]
        }
      ]
    },
    "numbers": {
      "patterns": [
        {
          "name": "constant.numeric.float.cobol360",
          "match": "[+-]?\\d+\\.\\d+([Ee][+-]?\\d+)?"
        },
        {
          "name": "constant.numeric.integer.cobol360",
          "match": "\\b\\d+\\b"
        }
      ]
    },
    "level-numbers": {
      "patterns": [
        {
          "name": "constant.numeric.level.cobol360",
          "match": "^.{6}\\s+(01|1|77|88)\\b"
        },
        {
          "name": "constant.numeric.level.cobol360",
          "match": "^.{6}\\s+(0[2-9]|[1-4][0-9])\\b"
        }
      ]
    },
    "picture-clause": {
      "patterns": [
        {
          "name": "storage.type.picture.cobol360",
          "match": "\\b(PIC|PICTURE)\\s+(IS\\s+)?[9XAVSPZBCRDBabcrdb$,.+-/*()]+",
          "captures": {
            "1": { "name": "keyword.other.picture.cobol360" }
          }
        }
      ]
    },
    "verbs": {
      "patterns": [
        {
          "name": "keyword.control.verb.io.cobol360",
          "match": "\\b(ACCEPT|CLOSE|DISPLAY|EXHIBIT|OPEN|READ|REWRITE|WRITE|USE)\\b"
        },
        {
          "name": "keyword.control.verb.arithmetic.cobol360",
          "match": "\\b(ADD|COMPUTE|DIVIDE|MULTIPLY|SUBTRACT)\\b"
        },
        {
          "name": "keyword.control.verb.data.cobol360",
          "match": "\\b(EXAMINE|MOVE|SET|TRANSFORM)\\b"
        },
        {
          "name": "keyword.control.verb.flow.cobol360",
          "match": "\\b(ALTER|CALL|ENTER|EXIT|GO|IF|ELSE|PERFORM|STOP|THEN)\\b"
        },
        {
          "name": "keyword.control.verb.procedure.cobol360",
          "match": "\\b(COPY|NOTE|SEARCH|SORT)\\b"
        },
        {
          "name": "keyword.control.verb.report.cobol360",
          "match": "\\b(GENERATE|INITIATE|TERMINATE)\\b"
        },
        {
          "name": "keyword.control.verb.sort.cobol360",
          "match": "\\b(RELEASE|RETURN)\\b"
        }
      ]
    },
    "keywords": {
      "patterns": [
        {
          "name": "keyword.other.division.cobol360",
          "match": "\\b(DIVISION|SECTION|END)\\b"
        },
        {
          "name": "keyword.other.file.cobol360",
          "match": "\\b(FD|SD|RD|SELECT|ASSIGN|ORGANIZATION|ACCESS|SEQUENTIAL|RANDOM|INDEXED|RELATIVE|DIRECT|DIRECT-ACCESS)\\b"
        },
        {
          "name": "keyword.other.data.cobol360",
          "match": "\\b(BLOCK|CONTAINS|RECORD|RECORDS|LABEL|STANDARD|OMITTED|RECORDING|MODE|VALUE|OF|IN|TO|FROM|BY|THRU|THROUGH|TIMES|UNTIL|VARYING|AFTER|BEFORE|ADVANCING|ARE|IS)\\b"
        },
        {
          "name": "keyword.other.clause.cobol360",
          "match": "\\b(ASCENDING|DESCENDING|KEY|DEPENDING|ON|SIZE|ERROR|AT|END|NOT|WITH|ALL|LEADING|FIRST|JUSTIFIED|RIGHT|BLANK|FILLER)\\b"
        },
        {
          "name": "keyword.other.occurs.cobol360",
          "match": "\\b(OCCURS|REDEFINES|COPY|REPLACING)\\b"
        },
        {
          "name": "storage.type.usage.cobol360",
          "match": "\\b(USAGE|COMPUTATIONAL|COMPUTATIONAL-1|COMPUTATIONAL-2|COMPUTATIONAL-3|COMP|COMP-1|COMP-2|COMP-3|DISPLAY|DISPLAY-ST|INDEX)\\b"
        },
        {
          "name": "storage.type.class.cobol360",
          "match": "\\b(ALPHABETIC|NUMERIC)\\b"
        },
        {
          "name": "keyword.other.procedure.cobol360",
          "match": "\\b(GIVING|ROUNDED|INTO|CORRESPONDING|TALLYING)\\b"
        },
        {
          "name": "keyword.other.condition.cobol360",
          "match": "\\b(WHEN|OTHERWISE|EQUAL|GREATER|LESS|THAN|POSITIVE|NEGATIVE|ZERO|ZEROS|ZEROES|SPACE|SPACES|HIGH-VALUE|HIGH-VALUES|LOW-VALUE|LOW-VALUES|QUOTE|QUOTES)\\b"
        },
        {
          "name": "keyword.other.file-status.cobol360",
          "match": "\\b(FILE|INVALID|INPUT|OUTPUT|I-O)\\b"
        },
        {
          "name": "keyword.other.linkage.cobol360",
          "match": "\\b(USING|ENTRY)\\b"
        },
        {
          "name": "keyword.other.report.cobol360",
          "match": "\\b(REPORT|REPORTS|CONTROL|CONTROLS|PAGE|LIMIT|LIMITS|HEADING|FIRST|LAST|DETAIL|FOOTING|LINE|LINES|COLUMN|SOURCE|SUM|GROUP|INDICATE|NEXT|RESET|TYPE|CF|CH|DE|PF|PH|RF|RH|FINAL|REPORTING|CODE)\\b"
        },
        {
          "name": "keyword.other.special.cobol360",
          "match": "\\b(APPLY|SAME|AREA|AREAS|RESERVE|ALTERNATE|SYMBOLIC|ACTUAL|TRACK-AREA|TRACKS|FILE-LIMIT|RERUN|EVERY|UNIT|UNITS|UNIT-RECORD|REEL|LOCK|HOLD|PROCESSING|RUN|CONSOLE|FORM-OVERFLOW|PRINT-SWITCH|UPON)\\b"
        },
        {
          "name": "keyword.other.environment.cobol360",
          "match": "\\b(COBOL|ID|COMMA|DECIMAL-POINT|CURRENCY|SENTENCE|CHARACTERS|CHANGED|NAMED|NO|PLUS|PROCEED|PROCESS|READY|RESTRICTED|REVERSED|REWIND|SYSIN|SYSOUT|SYSPUNCH|TRACE|TRY|UTILITY|WRITE-ONLY|INCLUDE|FOR)\\b"
        },
        {
          "name": "constant.language.boolean.cobol360",
          "match": "\\b(ON|OFF)\\b"
        }
      ]
    },
    "special-registers": {
      "patterns": [
        {
          "name": "variable.language.special.cobol360",
          "match": "\\b(TALLY|LINE-COUNTER|PAGE-COUNTER)\\b"
        }
      ]
    },
    "operators": {
      "patterns": [
        {
          "name": "keyword.operator.arithmetic.cobol360",
          "match": "\\*\\*|\\*|/|\\+|-"
        },
        {
          "name": "keyword.operator.comparison.cobol360",
          "match": "<=|>=|<|>|="
        },
        {
          "name": "keyword.operator.logical.cobol360",
          "match": "\\b(AND|OR|NOT)\\b"
        }
      ]
    },
    "identifiers": {
      "patterns": [
        {
          "name": "variable.other.cobol360",
          "match": "\\b[A-Za-z][A-Za-z0-9-]*\\b"
        }
      ]
    }
  }
}
